<!doctype html>
<html lang="en">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<!--
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <script type="text/javascript" src="../js/jquery-1.11.0.min.js"></script>
    -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
	crossorigin="anonymous">

<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="../js/bootbox.min.js"></script>

<title>Exportaciones</title>
</head>
<body>

	<div id="NoMovil" style="display: none;">
		<div
			style="width: 150px; float: left; position: absolute; top: 50px; bottom: 0; background-color: #212529;">
			<nav class="navbar navbar-dark bg-dark">
				<ul class="navbar-nav">
					<li class="nav-item"><a class="nav-link active"
						style="padding-left: 10px; width: 150px;"
						href="./Animales.html">Animales</a></li>
					<li class="nav-item"><a class="nav-link active"
						style="padding-left: 10px; width: 150px;"
						href="./Crias.html">Venta crías</a></li>
					<li class="nav-item"><a class="nav-link active"
						style="padding-left: 10px; width: 150px;"
						href="./Leche.html">Leche</a></li>
					<li class="nav-item"><a class="nav-link active"
						style="padding-left: 10px; width: 150px;"
						href="./AlimentosSuministrados.html">Alimentos Suministrados</a></li>
					<li class="nav-item"><a class="nav-link active"
						style="padding-left: 10px; width: 150px;"
						href="./PiensosMedicamentosos.html">Piensos Medicamentosos</a></li>
					<li class="nav-item"><a class="nav-link active"
						style="padding-left: 10px; width: 150px;"
						href="./Medicamentos.html">Medicamentos</a></li>
					<li class="nav-item"><a class="nav-link active"
						style="padding-left: 10px; width: 150px;"
						href="./Enfermedades.html">Enfermedades</a></li>
					<li class="nav-item"><a class="nav-link active"
						style="padding-left: 10px; width: 150px;"
						href="./Pastos.html">Pastos</a></li>
					<!-- 
					<li class="nav-item"><a class="nav-link active"
						style="padding-left: 10px; width: 150px;"
						href="./Inspecciones.html">Inspecciones</a></li>
					 -->
					<li class="nav-item"><a class="nav-link active"
						style="padding-left: 10px; width: 150px;"
						href="./Incidencias.html">Incidencias</a></li>
					<li class="nav-item"><a class="nav-link active"
						style="padding-left: 10px; background-color: #e3e4e5; width: 150px; color: black"
						href="./Exportaciones.html"><b>EXPORTACIONES</b></a></li>
				</ul>
			</nav>
		</div>

		<div>
		<nav class="navbar navbar-dark bg-dark justify-content-end">
			<div class="container-fluid" style="float:left;">
				<a class="navbar-brand" href="./Inicio.html"><img src="./icono.png" width="10%" height="10%" style="display:inline; text-align:center;"></a>
			
				<div class="dropdown">
					<a class="nav-link dropdown-toggle" href="#"
						id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown"
						aria-expanded="false"> <b><script>document.write(sessionStorage.getItem("usuario_activo"));</script></b>
					</a>
					<ul class="dropdown-menu dropdown-menu-end"
						aria-labelledby="navbarDropdownMenuLink">
						<li><a class="dropdown-item" onclick="VerPerfil()">Ver
								Perfil</a></li>
						<li><a class="dropdown-item" onclick="CerrarSesion()">Cerrar
								Sesión</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</div>
	
		<h1 style="text-align: center;">Exportaciones</h1>

		<table class="table align-middle"
			style="margin-left: 180px; width: 80%;">
			<thead>
				<tr>
					<th>Ovino</th>
					<th>Caprino</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td id="ABA_Ovino"><img src="./pdf.png" alt="Altas y bajas de animales"
						width="50" height="50" id="ABA_OvinoE">Exportación de altas y bajas de animales</td>
					<td id="ABA_Caprino"><img src="./pdf.png" alt="Altas y bajas de animales"
						width="50" height="50" id="ABA_CaprinoE">Exportación de altas y bajas de animales</td>
				</tr>
				<tr>
					<td id="L_Ovino"><img src="./pdf.png" alt="Leche"
						width="50" height="50" id="L_OvinoE">Exportación de registros de entrega de leche</td>
					<td id="L_Caprino"><img src="./pdf.png" alt="Leche"
						width="50" height="50" id="L_CaprinoE">Exportación de Registros de entrega de leche</td>
				</tr>
				<tr>
					<td id="AS_Ovino"><img src="./pdf.png" alt="Alimentos Suministrados"
						width="50" height="50" id="AS_OvinoE">Exportación de registros de alimentos suminsitrados</td>
					<td id="AS_Caprino"><img src="./pdf.png" alt="Alimentos Suministrados"
						width="50" height="50" id="AS_CaprinoE">Exportación de registros de alimentos suminsitrados</td>
				</tr>
				<tr>
					<td id="PM_Ovino"><img src="./pdf.png" alt="Piensos Medicamentosos"
						width="50" height="50" id="PM_OvinoE">Exportación de registros de piensos medicamentosos</td>
					<td id="PM_Caprino"><img src="./pdf.png" alt="Piensos Medicamentosos"
						width="50" height="50" id="PM_CaprinoE">Exportación de registros de piensos medicamentosos</td>
				</tr>
				<tr>
					<td id="M_Ovino"><img src="./pdf.png" alt="Medicamentos"
						width="50" height="50" id="M_OvinoE">Exportación de registros de medicamentos</td>
					<td id="M_Caprino"><img src="./pdf.png" alt="Medicamentos"
						width="50" height="50" id="M_CaprinoE">Exportación de registros de medicamentos</td>
				</tr>
				<tr>
					<td id="E_Ovino"><img src="./pdf.png" alt="Enfermedades"
						width="50" height="50" id="E_OvinoE">Exportación de registros de enfermedades</td>
					<td id="E_Caprino"><img src="./pdf.png" alt="Enfermedades"
						width="50" height="50" id="E_CaprinoE">Exportación de registros de enfermedades</td>
				</tr>
				<tr>
					<td id="P_Ovino"><img src="./pdf.png" alt="Pastos"
						width="50" height="50" id="P_OvinoE">Exportación de registros de pastos</td>
					<td id="P_Caprino"><img src="./pdf.png" alt="Pastos"
						width="50" height="50" id="P_CaprinoE">Exportación de registros de pastos</td>
				</tr>
				<!-- 
				<tr>
					<td id="I_Ovino"><img src="./pdf.png" alt="Inspecciones"
						width="50" height="50" id="I_OvinoE">Exportación de registros de inspecciones</td>
					<td id="I_Caprino"><img src="./pdf.png" alt="Inspecciones"
						width="50" height="50" id="I_CaprinoE">Exportación de registros de inspecciones</td>
				</tr>
				 -->
				<tr>
					<td id="IN_Ovino"><img src="./pdf.png" alt="Incidencias"
						width="50" height="50" id="IN_OvinoE">Exportación de registros de incidencias</td>
					<td id="IN_Caprino"><img src="./pdf.png" alt=Incidencias
						width="50" height="50" id="IN_CaprinoE">Exportación de registros de incidencias</td>
				</tr>
			</tbody>
		</table>
	</div>

	<div id="Movil" style="display: none;">
		<div
			style="width: 60px; float: left; position: fixed; top: 0px; bottom: 0; background-color: #212529; padding-top:50px">
			<nav class="navbar navbar-dark bg-dark">
				<ul class="navbar-nav">
					<li class="nav-item">
						<a class="nav-link active" style="padding-left: 10px;" href="./Animales.html"> 
							<img src="./oveja.png" width="20" height="20" style="display: inline;">
							<img src="./cabra.png" width="20" height="20"style="display: inline;">
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link active" style="padding-left: 10px;" href="./Crias.html"> 
							<img src="./camion.png" width="30" height="30" style="display: inline;">
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link active" style="padding-left: 10px;" href="./Leche.html"> 
							<img src="./leche.png" width="30" height="30" style="display: inline;">
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link active" style="padding-left: 10px;" href="./AlimentosSuministrados.html"> 
							<img src="./silo.png" width="30" height="30" style="display: inline;">
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link active" style="padding-left: 10px;" href="./PiensosMedicamentosos.html">
							<img src="./silo.png" width="25" height="25" style="display: inline;">
							<img src="./pildora.png" width="17" height="17" style="display: inline;">
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link active" style="padding-left: 10px;" href="./Medicamentos.html">
							<img src="./medicamentos.png" width="25" height="25" style="display: inline;">
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link active" style="padding-left: 10px;" href="./Enfermedades.html">
							<img src="./virus.png" width="30" height="30" style="display: inline;">
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link active" style="padding-left: 10px;" href="./Pastos.html">
							<img src="./pastos.png" width="30" height="30" style="display: inline;">
						</a>
					</li>
					<!-- 
					<li class="nav-item">
						<a class="nav-link active" style="padding-left: 10px;" href="./Inspecciones.html">
							<img src="./inspecciones.png" width="30" height="30" style="display: inline;">
						</a>
					</li>
					 -->
					<li class="nav-item">
						<a class="nav-link active" style="padding-left: 10px;" href="./Incidencias.html">
							<img src="./incidencias.png" width="30" height="30" style="display: inline;">
						</a>
					</li>
					<li class="nav-item">
						<a class="nav-link active" style="padding-left: 10px; background-color: #e3e4e5; width: 60px; color: black" href="./Exportaciones.html"> 
							<img src="./exportacionesN.png" width="30" height="30" style="display: inline;">
						</a>
					</li>
				</ul>
			</nav>
			
		</div>

		<div>
		<nav class="navbar navbar-dark bg-dark justify-content-end">
			<div class="container-fluid" style="float:left;">
				<a class="navbar-brand" href="./Inicio.html" style="width:50%"><img src="./icono.png" width="40%" height="40%" style="display:inline; text-align:center;"></a>
			
				<div class="dropdown">
					<a class="nav-link dropdown-toggle" href="#"
						id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown"
						aria-expanded="false"> <b><script>document.write(sessionStorage.getItem("usuario_activo"));</script></b>
					</a>
					<ul class="dropdown-menu dropdown-menu-end"
						aria-labelledby="navbarDropdownMenuLink">
						<li><a class="dropdown-item" onclick="VerPerfil()">Ver
								Perfil</a></li>
						<li><a class="dropdown-item" onclick="CerrarSesion()">Cerrar
								Sesión</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</div>
	
		<h1 style="text-align: center;margin-left: 60px">EXPORTACIONES</h1>
		
		<table class="table align-middle" style="margin-left: 65px; width: 80%;">
				<thead>
					<tr>
						<th>Ovino</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td id="ABA_OvinoM"><img src="./pdf.png" alt="Altas y bajas de animales"
							width="30" height="30" id="ABA_OvinoEM">Exportación de altas y bajas de animales</td>
					</tr>
					<tr>
						<td id="L_OvinoM"><img src="./pdf.png" alt="Leche"
							width="30" height="30" id="L_OvinoEM">Exportación de registros de entrega de leche</td>
					</tr>
					<tr>
						<td id="AS_OvinoM"><img src="./pdf.png" alt="Alimentos Suministrados"
							width="30" height="30" id="AS_OvinoEM">Exportación de registros de alimentos suminsitrados</td>
					</tr>
					<tr>
						<td id="PM_OvinoM"><img src="./pdf.png" alt="Piensos Medicamentosos"
							width="30" height="30" id="PM_OvinoEM">Exportación de registros de piensos medicamentosos</td>
					</tr>
					<tr>
						<td id="M_OvinoM"><img src="./pdf.png" alt="Medicamentos"
							width="30" height="30" id="M_OvinoEM">Exportación de registros de medicamentos</td>
					</tr>
					<tr>
						<td id="E_OvinoM"><img src="./pdf.png" alt="Enfermedades"
							width="30" height="30" id="E_OvinoEM">Exportación de registros de enfermedades</td>
					</tr>
					<tr>
						<td id="P_OvinoM"><img src="./pdf.png" alt="Pastos"
							width="30" height="30" id="P_OvinoEM">Exportación de registros de pastos</td>
					</tr>
					<!-- 
					<tr>
						<td id="I_OvinoM"><img src="./pdf.png" alt="Inspecciones"
							width="30" height="30" id="I_OvinoEM">Exportación de registros de inspecciones</td>
					</tr>
					 -->
					<tr>
						<td id="IN_OvinoM"><img src="./pdf.png" alt="Incidencias"
							width="30" height="30" id="IN_OvinoEM">Exportación de registros de incidencias</td>
					</tr>
				</tbody>
			</table>
			
			<table class="table align-middle" style="margin-left: 65px; width: 80%;">
				<thead>
					<tr>
						<th>Caprino</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td id="ABA_CaprinoM"><img src="./pdf.png" alt="Altas y bajas de animales"
							width="30" height="30" id="ABA_CaprinoEM">Exportación de altas y bajas de animales</td>
					</tr>
					<tr>
						<td id="L_CaprinoM"><img src="./pdf.png" alt="Leche"
							width="30" height="30" id="L_CaprinoEM">Exportación de Registros de entrega de leche</td>
					</tr>
					<tr>
						<td id="AS_CaprinoM"><img src="./pdf.png" alt="Alimentos Suministrados"
							width="30" height="30" id="AS_CaprinoEM">Exportación de registros de alimentos suminsitrados</td>
					</tr>
					<tr>
						<td id="PM_CaprinoM"><img src="./pdf.png" alt="Piensos Medicamentosos"
							width="30" height="30" id="PM_CaprinoEM">Exportación de registros de piensos medicamentosos</td>
					</tr>
					<tr>
						<td id="M_CaprinoM"><img src="./pdf.png" alt="Medicamentos"
							width="30" height="30" id="M_CaprinoEM">Exportación de registros de medicamentos</td>
					</tr>
					<tr>
						<td id="E_CaprinoM"><img src="./pdf.png" alt="Enfermedades"
							width="30" height="30" id="E_CaprinoEM">Exportación de registros de enfermedades</td>
					</tr>
					<tr>
						<td id="P_CaprinoM"><img src="./pdf.png" alt="Pastos"
							width="30" height="30" id="P_CaprinoEM">Exportación de registros de pastos</td>
					</tr>
					<!-- 
					<tr>
						<td id="I_CaprinoM"><img src="./pdf.png" alt="Inspecciones"
							width="30" height="30" id="I_CaprinoEM">Exportación de registros de inspecciones</td>
					</tr>
					 -->
					<tr>
						<td id="IN_CaprinoM"><img src="./pdf.png" alt="Incidencias"
							width="30" height="30" id="IN_CaprinoEM">Exportación de registros de incidencias</td>
					</tr>
				</tbody>
			</table>

		

		<div id="cardMovil"></div>


	</div>
	<!-- Optional JavaScript; choose one of the two! -->

	<!-- Option 1: Bootstrap Bundle with Popper -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
		crossorigin="anonymous"></script>

	<!-- Option 2: Separate Popper and Bootstrap JS -->
	<!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
    -->
</body>
</html>

<script>
$(function() {

	var usuario = sessionStorage.getItem("usuario_activo");
	
	if(usuario == null){
		sessionStorage.clear();
		var url = "./IniciarSesion.html";
	    window.location.href = url;
	}else{
	
  		//Comprobar si es telefono u ordenador
	
	    try{ 
	        document.createEvent("TouchEvent"); 
	        document.getElementById('Movil').style.display='block';
	        sessionStorage.setItem('Movil', "true");
	        var parar;
	        parar = 1;
	        return true; 
	    }
	    catch(e){ 
	    	document.getElementById('NoMovil').style.display='block';
	    	sessionStorage.setItem('Movil', "false");
	        return false;
	    }
	}
  
});
</script>

<script>
$(function() {
	
	//Comprobar si hay dos explotaciones
	var usuario = sessionStorage.getItem("usuario_activo");
	
		var usuarioDatos= {
		'usuario' : usuario,
	};

	var usuarioLoginJSON = JSON.stringify(usuarioDatos);

	var url = './recogerExplotaciones';

	$.ajax({
		type : 'post',
		url : url,
		contentType : 'application/json',
		dataType : 'json',
		data : usuarioLoginJSON,
		success : function(data, textStatus, jqXHR) {
			var numExplotaciones = data.ListaExplotaciones;
			var size = Object.keys(numExplotaciones).length;
			var TipoAnimal = data.ListaTipoAnimal;
			if(size == 1){
				if(TipoAnimal[0] == "ovino"){
					//Caprino deshabilitado
						//Altas y Bajas de animales
							var ABA_C = document.getElementById("ABA_Caprino");
							ABA_C.style.backgroundColor = "grey";
							var ABA_CE = document.getElementById("ABA_CaprinoE");
							ABA_CE.onclick="";
							
							var ABA_CM = document.getElementById("ABA_CaprinoM");
							ABA_CM.style.backgroundColor = "grey";
							var ABA_CEM = document.getElementById("ABA_CaprinoEM");
							ABA_CEM.onclick="";
							
						//Registros de entrega de leche
							var L_C = document.getElementById("L_Caprino");
							L_C.style.backgroundColor = "grey";
							var L_CE = document.getElementById("L_CaprinoE");
							L_CE.onclick="";
							
							var L_CM = document.getElementById("L_CaprinoM");
							L_CM.style.backgroundColor = "grey";
							var L_CEM = document.getElementById("L_CaprinoEM");
							L_CEM.onclick="";
						
						//Registros de alimentos suministrados
							var AS_C = document.getElementById("AS_Caprino");
							AS_C.style.backgroundColor = "grey";
							var AS_CE = document.getElementById("AS_CaprinoE");
							AS_CE.onclick="";
							
							var AS_CM = document.getElementById("AS_CaprinoM");
							AS_CM.style.backgroundColor = "grey";
							var AS_CEM = document.getElementById("AS_CaprinoEM");
							AS_CEM.onclick="";
							
						//Registros de piensos medicamentosos
							var PM_C = document.getElementById("PM_Caprino");
							PM_C.style.backgroundColor = "grey";
							var PM_CE = document.getElementById("PM_CaprinoE");
							PM_CE.onclick="";
							
							var PM_CM = document.getElementById("PM_CaprinoM");
							PM_CM.style.backgroundColor = "grey";
							var PM_CEM = document.getElementById("PM_CaprinoEM");
							PM_CEM.onclick="";
							
						//Registros de medicamentos
							var M_C = document.getElementById("M_Caprino");
							M_C.style.backgroundColor = "grey";
							var M_CE = document.getElementById("M_CaprinoE");
							M_CE.onclick="";
							
							var M_CM = document.getElementById("M_CaprinoM");
							M_CM.style.backgroundColor = "grey";
							var M_CEM = document.getElementById("M_CaprinoEM");
							M_CEM.onclick="";
							
						//Registros de enfermedades
							var E_C = document.getElementById("E_Caprino");
							E_C.style.backgroundColor = "grey";
							var E_CE = document.getElementById("E_CaprinoE");
							E_CE.onclick="";
							
							var E_CM = document.getElementById("E_CaprinoM");
							E_CM.style.backgroundColor = "grey";
							var E_CEM = document.getElementById("E_CaprinoEM");
							E_CEM.onclick="";
							
						//Registros de pastos
							var P_C = document.getElementById("P_Caprino");
							P_C.style.backgroundColor = "grey";
							var P_CE = document.getElementById("P_CaprinoE");
							P_CE.onclick="";
							
							var P_CM = document.getElementById("P_CaprinoM");
							P_CM.style.backgroundColor = "grey";
							var P_CEM = document.getElementById("P_CaprinoEM");
							P_CEM.onclick="";
							
						//Registros de inspecciones
							/*var I_C = document.getElementById("I_Caprino");
							I_C.style.backgroundColor = "grey";
							var I_CE = document.getElementById("I_CaprinoE");
							I_CE.onclick="";
							
							var I_CM = document.getElementById("I_CaprinoM");
							I_CM.style.backgroundColor = "grey";
							var I_CEM = document.getElementById("I_CaprinoEM");
							I_CEM.onclick="";*/
							
						//Registros de incidencias
							var IN_C = document.getElementById("IN_Caprino");
							IN_C.style.backgroundColor = "grey";
							var IN_CE = document.getElementById("IN_CaprinoE");
							IN_CE.onclick="";
						
							var IN_CM = document.getElementById("IN_CaprinoM");
							IN_CM.style.backgroundColor = "grey";
							var IN_CEM = document.getElementById("IN_CaprinoEM");
							IN_CEM.onclick="";
							
					//Ovino habilitado
						//Altas y Bajas de animales
							var ABA_OE = document.getElementById("ABA_OvinoE");
							ABA_OE.addEventListener('click', function() {
							    ExportacionAltasBajasListado1(numExplotaciones[0]);
							}, false);
							
							var ABA_OEM = document.getElementById("ABA_OvinoEM");
							ABA_OEM.addEventListener('click', function() {
							    ExportacionAltasBajasListado1(numExplotaciones[0]);
							}, false);
						
						//Registros de entrega de leche
							var L_OE = document.getElementById("L_OvinoE");
							L_OE.addEventListener('click', function() {
							    ExportacionRegistrosLeche(numExplotaciones[0]);
							}, false);
							
							var L_OEM = document.getElementById("L_OvinoEM");
							L_OEM.addEventListener('click', function() {
							    ExportacionRegistrosLeche(numExplotaciones[0]);
							}, false);
						
						//Registros de alimentos suministrados
							var AS_OE = document.getElementById("AS_OvinoE");
							AS_OE.addEventListener('click', function() {
							    ExportacionAlimentosSuministrados(numExplotaciones[0]);
							}, false);
							
							var AS_OEM = document.getElementById("AS_OvinoEM");
							AS_OEM.addEventListener('click', function() {
							    ExportacionAlimentosSuministrados(numExplotaciones[0]);
							}, false);
							
						//Registros de piensos medicamentosos
							var PM_OE = document.getElementById("PM_OvinoE");
							PM_OE.addEventListener('click', function() {
							    ExportacionPiensosMedicamentosos(numExplotaciones[0]);
							}, false);
							
							var PM_OEM = document.getElementById("PM_OvinoEM");
							PM_OEM.addEventListener('click', function() {
							    ExportacionPiensosMedicamentosos(numExplotaciones[0]);
							}, false);
							
						//Registros de medicamentos
							var M_OE = document.getElementById("M_OvinoE");
							M_OE.addEventListener('click', function() {
							    ExportacionMedicamentos(numExplotaciones[0]);
							}, false);
							
						//Registros de enfermedades
							var E_OE = document.getElementById("E_OvinoE");
							E_OE.addEventListener('click', function() {
							    ExportacionEnfermedades(numExplotaciones[0]);
							}, false);
							
							var E_OEM = document.getElementById("E_OvinoEM");
							E_OEM.addEventListener('click', function() {
							    ExportacionEnfermedades(numExplotaciones[0]);
							}, false);
							
						//Registros de pastos
							var P_OE = document.getElementById("P_OvinoE");
							P_OE.addEventListener('click', function() {
							    ExportacionPastos(numExplotaciones[0]);
							}, false);
							
							var P_OEM = document.getElementById("P_OvinoEM");
							P_OEM.addEventListener('click', function() {
							    ExportacionPastos(numExplotaciones[0]);
							}, false);
							
						//Registros de inspecciones
							/*var I_OE = document.getElementById("I_OvinoE");
							I_OE.addEventListener('click', function() {
							    ExportacionInspecciones(numExplotaciones[0]);
							}, false);
							
							var I_OEM = document.getElementById("I_OvinoEM");
							I_OEM.addEventListener('click', function() {
							    ExportacionInspecciones(numExplotaciones[0]);
							}, false);*/
							
						//Registros de incidencias
							var IN_OE = document.getElementById("IN_OvinoE");
							IN_OE.addEventListener('click', function() {
							    ExportacionIncidencias(numExplotaciones[0]);
							}, false);
							
							var IN_OEM = document.getElementById("IN_OvinoEM");
							IN_OEM.addEventListener('click', function() {
							    ExportacionIncidencias(numExplotaciones[0]);
							}, false);
						
				}else{
					//Ovino deshabilitado
						//Altas y Bajas de animales
							var ABA_O = document.getElementById("ABA_Ovino");
							ABA_O.style.backgroundColor = "grey";
							var ABA_OE = document.getElementById("ABA_OvinoE");
							ABA_OE.onclick="";
							
							var ABA_OM = document.getElementById("ABA_OvinoM");
							ABA_OM.style.backgroundColor = "grey";
							var ABA_OEM = document.getElementById("ABA_OvinoEM");
							ABA_OEM.onclick="";
						
						//Registros de entrega de leche
							var L_O = document.getElementById("L_Ovino");
							L_O.style.backgroundColor = "grey";
							var L_OE = document.getElementById("L_OvinoE");
							L_OE.onclick="";
							
							var L_OM = document.getElementById("L_OvinoM");
							L_OM.style.backgroundColor = "grey";
							var L_OEM = document.getElementById("L_OvinoEM");
							L_OEM.onclick="";
						
						//Registros de alimentos suministrados
							var AS_O = document.getElementById("AS_Ovino");
							AS_O.style.backgroundColor = "grey";
							var AS_OE = document.getElementById("AS_OvinoE");
							AS_OE.onclick="";
							
							var AS_OM = document.getElementById("AS_OvinoM");
							AS_OM.style.backgroundColor = "grey";
							var AS_OEM = document.getElementById("AS_OvinoEM");
							AS_OEM.onclick="";
							
						//Registros de piensos medicamentosos
							var PM_O = document.getElementById("PM_Ovino");
							PM_O.style.backgroundColor = "grey";
							var PM_OE = document.getElementById("PM_OvinoE");
							PM_OE.onclick="";
							
							var PM_OM = document.getElementById("PM_OvinoM");
							PM_OM.style.backgroundColor = "grey";
							var PM_OEM = document.getElementById("PM_OvinoEM");
							PM_OEM.onclick="";
							
						//Registros de medicamentos
							var M_O = document.getElementById("M_Ovino");
							M_O.style.backgroundColor = "grey";
							var M_OE = document.getElementById("M_OvinoE");
							M_OE.onclick="";
							
							var M_OM = document.getElementById("M_OvinoM");
							M_OM.style.backgroundColor = "grey";
							var M_OEM = document.getElementById("M_OvinoEM");
							M_OEM.onclick="";
							
						//Registros de enfermedades
							var E_O = document.getElementById("E_Ovino");
							E_O.style.backgroundColor = "grey";
							var E_OE = document.getElementById("E_OvinoE");
							E_OE.onclick="";
							
							var E_OM = document.getElementById("E_OvinoM");
							E_OM.style.backgroundColor = "grey";
							var E_OEM = document.getElementById("E_OvinoEM");
							E_OEM.onclick="";
							
						//Registros de pastos
							var P_O = document.getElementById("P_Ovino");
							P_O.style.backgroundColor = "grey";
							var P_OE = document.getElementById("P_OvinoE");
							P_OE.onclick="";
							
							var P_OM = document.getElementById("P_OvinoM");
							P_OM.style.backgroundColor = "grey";
							var P_OEM = document.getElementById("P_OvinoEM");
							P_OEM.onclick="";
							
						//Registros de inspecciones
							/*var I_O = document.getElementById("I_Ovino");
							I_O.style.backgroundColor = "grey";
							var I_OE = document.getElementById("I_OvinoE");
							I_OE.onclick="";
							
							var I_OM = document.getElementById("I_OvinoM");
							I_OM.style.backgroundColor = "grey";
							var I_OEM = document.getElementById("I_OvinoEM");
							I_OEM.onclick="";*/
							
						//Registros de incidencias
							var IN_O = document.getElementById("IN_Ovino");
							IN_O.style.backgroundColor = "grey";
							var IN_OE = document.getElementById("IN_OvinoE");
							IN_OE.onclick="";
							
							var IN_OM = document.getElementById("IN_OvinoM");
							IN_OM.style.backgroundColor = "grey";
							var IN_OEM = document.getElementById("IN_OvinoEM");
							IN_OEM.onclick="";
						
					//Caprino habilitado
						//Altas y Bajas de animales
							var ABA_CE = document.getElementById("ABA_CaprinoE");
							ABA_CE.addEventListener('click', function() {
							    ExportacionAltasBajasListado1(numExplotaciones[0]);
							}, false);
							
							var ABA_CEM = document.getElementById("ABA_CaprinoEM");
							ABA_CEM.addEventListener('click', function() {
							    ExportacionAltasBajasListado1(numExplotaciones[0]);
							}, false);
						
						//Registros de entrega de leche
							var L_CE = document.getElementById("L_CaprinoE");
							L_CE.addEventListener('click', function() {
							    ExportacionRegistrosLeche(numExplotaciones[0]);
							}, false);
							
							var L_CEM = document.getElementById("L_CaprinoEM");
							L_CEM.addEventListener('click', function() {
							    ExportacionRegistrosLeche(numExplotaciones[0]);
							}, false);
							
						//Registros de alimentos suministrados
							var AS_CE = document.getElementById("AS_CaprinoE");
							AS_CE.addEventListener('click', function() {
							     ExportacionAlimentosSuministrados(numExplotaciones[0]);
							}, false);
							
							var AS_CEM = document.getElementById("AS_CaprinoEM");
							AS_CEM.addEventListener('click', function() {
							     ExportacionAlimentosSuministrados(numExplotaciones[0]);
							}, false);
							
						//Registros de piensos medicamentosos
							var PM_CE = document.getElementById("PM_CaprinoE");
							PM_CE.addEventListener('click', function() {
							     ExportacionPiensosMedicamentosos(numExplotaciones[0]);
							}, false);
							
							var PM_CEM = document.getElementById("PM_CaprinoEM");
							PM_CEM.addEventListener('click', function() {
							     ExportacionPiensosMedicamentosos(numExplotaciones[0]);
							}, false);
							
						//Registros de medicamentos
							var M_CE = document.getElementById("M_CaprinoE");
							M_CE.addEventListener('click', function() {
							     ExportacionMedicamentos(numExplotaciones[0]);
							}, false);
							
							var M_CEM = document.getElementById("M_CaprinoEM");
							M_CEM.addEventListener('click', function() {
							     ExportacionMedicamentos(numExplotaciones[0]);
							}, false);
							
						//Registros de enfermedades
							var E_CE = document.getElementById("E_CaprinoE");
							E_CE.addEventListener('click', function() {
							     ExportacionEnfermedades(numExplotaciones[0]);
							}, false);
							
							var E_CEM = document.getElementById("E_CaprinoEM");
							E_CEM.addEventListener('click', function() {
							     ExportacionEnfermedades(numExplotaciones[0]);
							}, false);
							
						//Registros de pastos
							var P_CE = document.getElementById("P_CaprinoE");
							P_CE.addEventListener('click', function() {
							     ExportacionPastos(numExplotaciones[0]);
							}, false);
							
							var P_CEM = document.getElementById("P_CaprinoEM");
							P_CEM.addEventListener('click', function() {
							     ExportacionPastos(numExplotaciones[0]);
							}, false);
							
						//Registros de inspecciones
							/*var I_CE = document.getElementById("I_CaprinoE");
							I_CE.addEventListener('click', function() {
							     ExportacionInspecciones(numExplotaciones[0]);
							}, false);
							
							var I_CEM = document.getElementById("I_CaprinoEM");
							I_CEM.addEventListener('click', function() {
							     ExportacionInspecciones(numExplotaciones[0]);
							}, false);*/
							
						//Registros de incidencias
							var IN_CE = document.getElementById("IN_CaprinoE");
							IN_CE.addEventListener('click', function() {
							     ExportacionIncidencias(numExplotaciones[0]);
							}, false);
							
							var IN_CEM = document.getElementById("IN_CaprinoEM");
							IN_CEM.addEventListener('click', function() {
							     ExportacionIncidencias(numExplotaciones[0]);
							}, false);
				}
				
			}else{
				//Ovino habilitado
				if(TipoAnimal[0] == "ovino"){
					//Altas y Bajas de animales
						var ABA_OE = document.getElementById("ABA_OvinoE");
						ABA_OE.addEventListener('click', function() {
						    ExportacionAltasBajasListado1(numExplotaciones[0]);
						}, false);
						
						var ABA_OEM = document.getElementById("ABA_OvinoEM");
						ABA_OEM.addEventListener('click', function() {
						    ExportacionAltasBajasListado1(numExplotaciones[0]);
						}, false);
						
					//Registros de entrega de leche
						var L_OE = document.getElementById("L_OvinoE");
						L_OE.addEventListener('click', function() {
						    ExportacionRegistrosLeche(numExplotaciones[0]);
						}, false);
						
						var L_OEM = document.getElementById("L_OvinoEM");
						L_OEM.addEventListener('click', function() {
						    ExportacionRegistrosLeche(numExplotaciones[0]);
						}, false);
						
					//Registros de alimentos suministrados
						var AS_OE = document.getElementById("AS_OvinoE");
						AS_OE.addEventListener('click', function() {
						     ExportacionAlimentosSuministrados(numExplotaciones[0]);
						}, false);
						
						var AS_OEM = document.getElementById("AS_OvinoEM");
						AS_OEM.addEventListener('click', function() {
						     ExportacionAlimentosSuministrados(numExplotaciones[0]);
						}, false);
						
					//Registros de piensos medicamentosos
						var PM_OE = document.getElementById("PM_OvinoE");
						PM_OE.addEventListener('click', function() {
						     ExportacionPiensosMedicamentosos(numExplotaciones[0]);
						}, false);
						
						var PM_OEM = document.getElementById("PM_OvinoEM");
						PM_OEM.addEventListener('click', function() {
						     ExportacionPiensosMedicamentosos(numExplotaciones[0]);
						}, false);
						
					//Registros de medicamentos
						var M_OE = document.getElementById("M_OvinoE");
						M_OE.addEventListener('click', function() {
						     ExportacionMedicamentos(numExplotaciones[0]);
						}, false);
						
						var M_OEM = document.getElementById("M_OvinoEM");
						M_OEM.addEventListener('click', function() {
						     ExportacionMedicamentos(numExplotaciones[0]);
						}, false);
						
					//Registros de enfermedades
						var E_OE = document.getElementById("E_OvinoE");
						E_OE.addEventListener('click', function() {
						     ExportacionEnfermedades(numExplotaciones[0]);
						}, false);
						
						var E_OEM = document.getElementById("E_OvinoEM");
						E_OEM.addEventListener('click', function() {
						     ExportacionEnfermedades(numExplotaciones[0]);
						}, false);
						
					//Registros de pastos
						var P_OE = document.getElementById("P_OvinoE");
						P_OE.addEventListener('click', function() {
						     ExportacionPastos(numExplotaciones[0]);
						}, false);
						
						var P_OEM = document.getElementById("P_OvinoEM");
						P_OEM.addEventListener('click', function() {
						     ExportacionPastos(numExplotaciones[0]);
						}, false);
						
					//Registros de inspecciones
						/*var I_OE = document.getElementById("I_OvinoE");
						I_OE.addEventListener('click', function() {
						     ExportacionInspecciones(numExplotaciones[0]);
						}, false);
						
						var I_OEM = document.getElementById("I_OvinoEM");
						I_OEM.addEventListener('click', function() {
						     ExportacionInspecciones(numExplotaciones[0]);
						}, false);*/
						
					//Registros de incidencias
						var IN_OE = document.getElementById("IN_OvinoE");
						IN_OE.addEventListener('click', function() {
						     ExportacionIncidencias(numExplotaciones[0]);
						}, false);
						
						var IN_OEM = document.getElementById("IN_OvinoEM");
						IN_OEM.addEventListener('click', function() {
						     ExportacionIncidencias(numExplotaciones[0]);
						}, false);
						
				}else if(TipoAnimal[1] == "ovino"){
					//Altas y Bajas de animales
						var ABA_OE = document.getElementById("ABA_OvinoE");
						ABA_OE.addEventListener('click', function() {
						    ExportacionAltasBajasListado1(numExplotaciones[1]);
						}, false);
						
						var ABA_OEM = document.getElementById("ABA_OvinoEM");
						ABA_OEM.addEventListener('click', function() {
						    ExportacionAltasBajasListado1(numExplotaciones[1]);
						}, false);
						
					//Registros de entrega de leche	
						var L_OE = document.getElementById("L_OvinoE");
						L_OE.addEventListener('click', function() {
						    ExportacionRegistrosLeche(numExplotaciones[1]);
						}, false);
						
						var L_OEM = document.getElementById("L_OvinoEM");
						L_OEM.addEventListener('click', function() {
						    ExportacionRegistrosLeche(numExplotaciones[1]);
						}, false);
						
					//Registros de alimentos suministrados
						var AS_OE = document.getElementById("AS_OvinoE");
						AS_OE.addEventListener('click', function() {
						     ExportacionAlimentosSuministrados(numExplotaciones[1]);
						}, false);
						
						var AS_OEM = document.getElementById("AS_OvinoEM");
						AS_OEM.addEventListener('click', function() {
						     ExportacionAlimentosSuministrados(numExplotaciones[1]);
						}, false);
						
					//Registros de piensos medicamentosos
						var PM_OE = document.getElementById("PM_OvinoE");
						PM_OE.addEventListener('click', function() {
						     ExportacionPiensosMedicamentosos(numExplotaciones[1]);
						}, false);
						
						var PM_OEM = document.getElementById("PM_OvinoEM");
						PM_OEM.addEventListener('click', function() {
						     ExportacionPiensosMedicamentosos(numExplotaciones[1]);
						}, false);
						
					//Registros de medicamentos
						var M_OE = document.getElementById("M_OvinoE");
						M_OE.addEventListener('click', function() {
						     ExportacionMedicamentos(numExplotaciones[1]);
						}, false);
						
						var M_OEM = document.getElementById("M_OvinoEM");
						M_OEM.addEventListener('click', function() {
						     ExportacionMedicamentos(numExplotaciones[1]);
						}, false);
						
					//Registros de enfermedades
						var E_OE = document.getElementById("E_OvinoE");
						E_OE.addEventListener('click', function() {
						     ExportacionEnfermedades(numExplotaciones[1]);
						}, false);
						
						var E_OEM = document.getElementById("E_OvinoEM");
						E_OEM.addEventListener('click', function() {
						     ExportacionEnfermedades(numExplotaciones[1]);
						}, false);
						
					//Registros de pastos
						var P_OE = document.getElementById("P_OvinoE");
						P_OE.addEventListener('click', function() {
						     ExportacionPastos(numExplotaciones[1]);
						}, false);
						
						var P_OEM = document.getElementById("P_OvinoEM");
						P_OEM.addEventListener('click', function() {
						     ExportacionPastos(numExplotaciones[1]);
						}, false);
						
					//Registros de inspecciones
						/*var I_OE = document.getElementById("I_OvinoE");
						I_OE.addEventListener('click', function() {
						     ExportacionInspecciones(numExplotaciones[1]);
						}, false);
						
						var I_OEM = document.getElementById("I_OvinoEM");
						I_OEM.addEventListener('click', function() {
						     ExportacionInspecciones(numExplotaciones[1]);
						}, false);*/
						
					//Registros de incidencias
						var IN_OE = document.getElementById("IN_OvinoE");
						IN_OE.addEventListener('click', function() {
						     ExportacionIncidencias(numExplotaciones[1]);
						}, false);
						
						var IN_OEM = document.getElementById("IN_OvinoEM");
						IN_OEM.addEventListener('click', function() {
						     ExportacionIncidencias(numExplotaciones[1]);
						}, false);
				}
				
				//Caprino habilitado
				if(TipoAnimal[0] == "caprino"){
					//Altas y Bajas de animales
						var ABA_CE = document.getElementById("ABA_CaprinoE");
						ABA_CE.addEventListener('click', function() {
						    ExportacionAltasBajasListado1(numExplotaciones[0]);
						}, false);
						
						var ABA_CEM = document.getElementById("ABA_CaprinoEM");
						ABA_CEM.addEventListener('click', function() {
						    ExportacionAltasBajasListado1(numExplotaciones[0]);
						}, false);
					
					//Registros de entrega de leche	
						var L_CE = document.getElementById("L_CaprinoE");
						L_CE.addEventListener('click', function() {
						    ExportacionRegistrosLeche(numExplotaciones[0]);
						}, false);
						
						var L_CEM = document.getElementById("L_CaprinoEM");
						L_CEM.addEventListener('click', function() {
						    ExportacionRegistrosLeche(numExplotaciones[0]);
						}, false);
						
					//Registros de alimentos suministrados	
						var AS_CE = document.getElementById("AS_CaprinoE");
						AS_CE.addEventListener('click', function() {
						     ExportacionAlimentosSuministrados(numExplotaciones[0]);
						}, false);
						
						var AS_CEM = document.getElementById("AS_CaprinoEM");
						AS_CEM.addEventListener('click', function() {
						     ExportacionAlimentosSuministrados(numExplotaciones[0]);
						}, false);
						
					//Registros de piensos medicamentosos	
						var PM_CE = document.getElementById("PM_CaprinoE");
						PM_CE.addEventListener('click', function() {
						     ExportacionPiensosMedicamentosos(numExplotaciones[0]);
						}, false);
						
						var PM_CEM = document.getElementById("PM_CaprinoEM");
						PM_CEM.addEventListener('click', function() {
						     ExportacionPiensosMedicamentosos(numExplotaciones[0]);
						}, false);
						
					//Registros de medicamentos
						var M_CE = document.getElementById("M_CaprinoE");
						M_CE.addEventListener('click', function() {
						     ExportacionMedicamentos(numExplotaciones[0]);
						}, false);
						
						var M_CEM = document.getElementById("M_CaprinoEM");
						M_CEM.addEventListener('click', function() {
						     ExportacionMedicamentos(numExplotaciones[0]);
						}, false);
						
					//Registros de enfermedades
						var E_CE = document.getElementById("E_CaprinoE");
						E_CE.addEventListener('click', function() {
						     ExportacionEnfermedades(numExplotaciones[0]);
						}, false);
						
						var E_CEM = document.getElementById("E_CaprinoEM");
						E_CEM.addEventListener('click', function() {
						     ExportacionEnfermedades(numExplotaciones[0]);
						}, false);
						
					//Registros de pastos
						var P_CE = document.getElementById("P_CaprinoE");
						P_CE.addEventListener('click', function() {
						     ExportacionPastos(numExplotaciones[0]);
						}, false);
						
						var P_CEM = document.getElementById("P_CaprinoEM");
						P_CEM.addEventListener('click', function() {
						     ExportacionPastos(numExplotaciones[0]);
						}, false);
						
					//Registros de inspecciones
						/*var I_CE = document.getElementById("I_CaprinoE");
						I_CE.addEventListener('click', function() {
						     ExportacionInspecciones(numExplotaciones[0]);
						}, false);
						
						var I_CEM = document.getElementById("I_CaprinoEM");
						I_CEM.addEventListener('click', function() {
						     ExportacionInspecciones(numExplotaciones[0]);
						}, false);*/
						
					//Registros de incidencias
						var IN_CE = document.getElementById("IN_CaprinoE");
						IN_CE.addEventListener('click', function() {
						     ExportacionIncidencias(numExplotaciones[0]);
						}, false);
						
						var IN_CEM = document.getElementById("IN_CaprinoEM");
						IN_CEM.addEventListener('click', function() {
						     ExportacionIncidencias(numExplotaciones[0]);
						}, false);
						
				}else if(TipoAnimal[1] == "caprino"){
					//Altas y Bajas de animales
						var ABA_CE = document.getElementById("ABA_CaprinoE");
						ABA_CE.addEventListener('click', function() {
						    ExportacionAltasBajasListado1(numExplotaciones[1]);
						}, false);
						
						var ABA_CEM = document.getElementById("ABA_CaprinoEM");
						ABA_CEM.addEventListener('click', function() {
						    ExportacionAltasBajasListado1(numExplotaciones[1]);
						}, false);
						
					//Registros de entrega de leche	
						var L_CE = document.getElementById("L_CaprinoE");
						L_CE.addEventListener('click', function() {
						    ExportacionRegistrosLeche(numExplotaciones[1]);
						}, false);
						
						var L_CEM = document.getElementById("L_CaprinoEM");
						L_CEM.addEventListener('click', function() {
						    ExportacionRegistrosLeche(numExplotaciones[1]);
						}, false);
						
					//Registros de alimentos suministrados	
						var AS_CE = document.getElementById("AS_CaprinoE");
						AS_CE.addEventListener('click', function() {
						     ExportacionAlimentosSuministrados(numExplotaciones[1]);
						}, false);
						
						var AS_CEM = document.getElementById("AS_CaprinoEM");
						AS_CEM.addEventListener('click', function() {
						     ExportacionAlimentosSuministrados(numExplotaciones[1]);
						}, false);
						
					//Registros de piensos medicamentosos
						var PM_CE = document.getElementById("PM_CaprinoE");
						PM_CE.addEventListener('click', function() {
						     ExportacionPiensosMedicamentosos(numExplotaciones[1]);
						}, false);
						
						var PM_CEM = document.getElementById("PM_CaprinoEM");
						PM_CEM.addEventListener('click', function() {
						     ExportacionPiensosMedicamentosos(numExplotaciones[1]);
						}, false);
						
					//Registros de medicamentos
						var M_CE = document.getElementById("M_CaprinoE");
						M_CE.addEventListener('click', function() {
						     ExportacionMedicamentos(numExplotaciones[1]);
						}, false);
						
						var M_CEM = document.getElementById("M_CaprinoEM");
						M_CEM.addEventListener('click', function() {
						     ExportacionMedicamentos(numExplotaciones[1]);
						}, false);
						
					//Registros de enfermedades
						var E_CE = document.getElementById("E_CaprinoE");
						E_CE.addEventListener('click', function() {
						     ExportacionEnfermedades(numExplotaciones[1]);
						}, false);
						
						var E_CEM = document.getElementById("E_CaprinoEM");
						E_CEM.addEventListener('click', function() {
						     ExportacionEnfermedades(numExplotaciones[1]);
						}, false);
						
					//Registros de pastos
						var P_CE = document.getElementById("P_CaprinoE");
						P_CE.addEventListener('click', function() {
						     ExportacionPastos(numExplotaciones[1]);
						}, false);
						
						var P_CEM = document.getElementById("P_CaprinoEM");
						P_CEM.addEventListener('click', function() {
						     ExportacionPastos(numExplotaciones[1]);
						}, false);
						
					//Registros de inspecciones
						/*var I_CE = document.getElementById("I_CaprinoE");
						I_CE.addEventListener('click', function() {
						     ExportacionInspecciones(numExplotaciones[1]);
						}, false);
						
						var I_CEM = document.getElementById("I_CaprinoEM");
						I_CEM.addEventListener('click', function() {
						     ExportacionInspecciones(numExplotaciones[1]);
						}, false);*/
						
					//Registros de incidencias
						var IN_CE = document.getElementById("IN_CaprinoE");
						IN_CE.addEventListener('click', function() {
						     ExportacionIncidencias(numExplotaciones[1]);
						}, false);
						
						var IN_CEM = document.getElementById("IN_CaprinoEM");
						IN_CEM.addEventListener('click', function() {
						     ExportacionIncidencias(numExplotaciones[1]);
						}, false);
				}
				
			}

		},
		error : function(jqXHR, exception) {
			// mostrarPantallaError(url, jqXHR);
		},
		statuscode : {
			404 : function() {
				//mostrarPantallaError(url);
			}
		}
	});

});
</script>

<script>
function CerrarSesion(){
	sessionStorage.clear();
	var url = "./IniciarSesion.html";
    window.location.href = url;
}
</script>

<script>
function VerPerfil(){
	//Primero hay que sacar los datos de base de datos de el usuario que se encuentra conectado
	var usuario = sessionStorage.getItem("usuario_activo");
	
	var usuarioDatos= {
		'usuario' : usuario,
	};

	var usuarioLoginJSON = JSON.stringify(usuarioDatos);

	var url = './sacardatos';

	$.ajax({
		type : 'post',
		url : url,
		contentType : 'application/json',
		dataType : 'json',
		data : usuarioLoginJSON,
		success : function(data, textStatus, jqXHR) {
			//Guardar las variables globales para mostrarlas en los input de Ver Perfil
			sessionStorage.setItem('Nombre', data.Nombre);
			sessionStorage.setItem('PApellido', data.PApellido);
			sessionStorage.setItem('SApellido', data.SApellido);
			sessionStorage.setItem('DNINIF', data.DNINIF);
			sessionStorage.setItem('CElectronico', data.CElectronico);
			sessionStorage.setItem('NumExplotacion', data.NumExplotacion);
			
			//Luego redirigir a la página
			var url = "./VerPerfil.html";
		    window.location.href = url;
		},
		error : function(jqXHR, exception) {
			// mostrarPantallaError(url, jqXHR);
		},
		statuscode : {
			404 : function() {
				//mostrarPantallaError(url);
			}
		}
	});
	
	
}
</script>

<script>
function ExportacionAltasBajas(NumExplotacion, num, Busqueda){
	var urlFirma = './exportacionAltasyBajas/'+NumExplotacion+'/'+num+'/'+Busqueda;
	
	$.ajax({
			type: 'get',
			url: urlFirma,
			contentType: 'application/pdf',
			success: function(data,textStatus,jqXHR){	
				url = './exportacionAltasyBajasDescarga/'+num;
				jQuery('<form action="' + url + '" method="get"></form>').appendTo('body').submit().remove();
			},error: function(jqXHR,exception) {
				bootbox.alert({
					title: "EXPORTACIÓN ALTAS Y BAJAS DE ANIMALES",
					message: "No se puede recuperar el archivo",
					buttons: {
						ok: {
							label: 'Aceptar',
							className: 'btn btn-primary'
						}
					}
				});
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionAltasBajasListado1(NumExplotacion){
	
	
		var mensaje = "<h5>BÚSQUEDA DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			mensaje = mensaje + "<tr>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<p>Selecciona el año de búsqueda</p>";
				mensaje = mensaje + "</td>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<select class='form-select' aria-label='Default select example' id='AnoBusqueda' style='float: center;'>";
						mensaje = mensaje + "<option selected>-----</option>";
						mensaje = mensaje + "<option value='2021'>2021</option>";
						mensaje = mensaje + "<option value='2022'>2022</option>";
						mensaje = mensaje + "<option value='2023'>2023</option>";
					mensaje = mensaje + "</select>";
				mensaje = mensaje + "</td>";
			mensaje = mensaje + "</tr>";
		mensaje = mensaje + "</table>";
							
		
		bootbox.confirm({
			title:"ALTAS Y BAJAS DE ANIMALES", 
			message: mensaje,
			buttons: {
				confirm: {
		            label: 'BUSCAR'
		        }
		    },
		    callback: function (result) {
		        if (result) {
		        	var Busqueda = document.getElementById("AnoBusqueda").value;
		        	ExportacionAltasBajasListado(Busqueda, NumExplotacion);
		        	
	            } else {
	                    
	            }
		    }
		});
}
</script>

<script>
function ExportacionAltasBajasListado(Busqueda, NumExplotacion){
	
		var busqueda = Busqueda + "-01-01";
		
		var datos= {
			'NumExplotacion' : NumExplotacion,
			'FechaVenta' : busqueda
		};
	
		var datos = JSON.stringify(datos);
	
		var url = './exportacionAltasyBajasListado';
	
		$.ajax({
			type : 'post',
			url : url,
			contentType : 'application/json',
			dataType : 'json',
			data : datos,
			success : function(data, textStatus, jqXHR) {
				var Recuento = data.recuento;

				ExportacionAltasBajasListadoEnlaces(Recuento, Busqueda, NumExplotacion);

			},error: function(jqXHR,exception) {
				
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionAltasBajasListadoEnlaces(Recuento, Busqueda, NumExplotacion){
	
		var NDocumentos = Recuento / 16;
				
		var NEnlaces;
		if(NDocumentos % 1 == 0){
			NEnlaces = parseInt(NDocumentos);
		}else{
			NEnlaces = parseInt(NDocumentos + 1);
		}
				
		var mensaje = "<h5>LISTADO DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			for(var i=0; i<NEnlaces; i++){
				var uno = "'" + NumExplotacion + "'";
				var dos = "'" + i + "'";
				var busqueda = Busqueda + "-01-01";
				var tres = "'" + busqueda + "'";
				var url = "ExportacionAltasBajas(" + uno + "," + dos + ", "+tres+")";
				
				mensaje = mensaje + "<tr>";
					mensaje = mensaje + "<td>";
						mensaje = mensaje + "<p>Documento número "+i+ ": </p>";
					mensaje = mensaje + "</td>";
					mensaje = mensaje + "<td style='text-align: center;'>";
						mensaje = mensaje + "<button type='button' class='btn btn-success' onClick=\""+url+"\">Descargar</button>";
					mensaje = mensaje + "</td>";
				mensaje = mensaje + "</tr>";		
			} 			
		mensaje = mensaje + "</table>";
		
								
		bootbox.dialog({
	        title: "ENLACES DE DESCARGAS",
	        message: mensaje,
	        buttons: {
	            sucess:{
	                label: "Cancelar",
	            	className: 'btn-secondary' 
	            }
	        }       
	    });
}
</script>

<script>
function ExportacionRegistrosLeche(NumExplotacion){
	
	
		var mensaje = "<h5>BÚSQUEDA DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			mensaje = mensaje + "<tr>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<p>Selecciona el año de búsqueda</p>";
				mensaje = mensaje + "</td>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<select class='form-select' aria-label='Default select example' id='AnoBusqueda' style='float: center;'>";
						mensaje = mensaje + "<option selected>-----</option>";
						mensaje = mensaje + "<option value='2021'>2021</option>";
						mensaje = mensaje + "<option value='2022'>2022</option>";
						mensaje = mensaje + "<option value='2023'>2023</option>";
					mensaje = mensaje + "</select>";
				mensaje = mensaje + "</td>";
			mensaje = mensaje + "</tr>";
		mensaje = mensaje + "</table>";
							
		
		bootbox.confirm({
			title:"REGISTROS DE ENTREGA DE LECHE", 
			message: mensaje,
			buttons: {
				confirm: {
		            label: 'BUSCAR'
		        }
		    },
		    callback: function (result) {
		        if (result) {
		        	var Busqueda = document.getElementById("AnoBusqueda").value;
		        	ExportacionRegistrosLecheListado(Busqueda, NumExplotacion);
		        	
	            } else {
	                    
	            }
		    }
		});
}
</script>

<script>
function ExportacionRegistrosLecheListado(Busqueda, NumExplotacion){
	
		var busqueda = Busqueda + "-01-01";
		
		var datos= {
			'NumExplotacion' : NumExplotacion,
			'FechaVenta' : busqueda
		};
	
		var datos = JSON.stringify(datos);
	
		var url = './exportacionRegistroLecheListado';
	
		$.ajax({
			type : 'post',
			url : url,
			contentType : 'application/json',
			dataType : 'json',
			data : datos,
			success : function(data, textStatus, jqXHR) {
				var Recuento = data.recuento;

				ExportacionRegistrosLecheListadoEnlaces(Recuento, Busqueda, NumExplotacion);

			},error: function(jqXHR,exception) {
				
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionRegistrosLecheListadoEnlaces(Recuento, Busqueda, NumExplotacion){
	
		var NDocumentos = Recuento / 50;
				
		var NEnlaces;
		if(NDocumentos % 1 == 0){
			NEnlaces = parseInt(NDocumentos);
		}else{
			NEnlaces = parseInt(NDocumentos + 1);
		}
				
		var mensaje = "<h5>LISTADO DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			for(var i=0; i<NEnlaces; i++){
				var uno = "'" + NumExplotacion + "'";
				var dos = "'" + i + "'";
				var busqueda = Busqueda + "-01-01";
				var tres = "'" + busqueda + "'";
				var url = "ExportacionRegistrosLecheDescarga(" + uno + "," + dos + ", "+tres+")";
				
				mensaje = mensaje + "<tr>";
					mensaje = mensaje + "<td>";
						mensaje = mensaje + "<p>Documento número "+i+ ": </p>";
					mensaje = mensaje + "</td>";
					mensaje = mensaje + "<td style='text-align: center;'>";
						mensaje = mensaje + "<button type='button' class='btn btn-success' onClick=\""+url+"\">Descargar</button>";
					mensaje = mensaje + "</td>";
				mensaje = mensaje + "</tr>";		
			} 			
		mensaje = mensaje + "</table>";
		
								
		bootbox.dialog({
	        title: "ENLACES DE DESCARGAS",
	        message: mensaje,
	        buttons: {
	            sucess:{
	                label: "Cancelar",
	            	className: 'btn-secondary' 
	            }
	        }       
	    });
}
</script>

<script>
function ExportacionRegistrosLecheDescarga(NumExplotacion, num, Busqueda){
	//var NumExplotacion = sessionStorage.getItem("NumeroExplotacion");
	var urlFirma = './exportacionRegistrosLeche/'+NumExplotacion+'/'+num+'/'+Busqueda;
	
	$.ajax({
			type: 'get',
			url: urlFirma,
			contentType: 'application/pdf',
			success: function(data,textStatus,jqXHR){	
				url = './exportacionRegistroLecheDescarga/'+num;
				jQuery('<form action="' + url + '" method="get"></form>').appendTo('body').submit().remove();
			},error: function(jqXHR,exception) {
				bootbox.alert({
					title: "EXPORTACIÓN REGISTROS DE LECHE",
					message: "No se puede recuperar el archivo",
					buttons: {
						ok: {
							label: 'Aceptar',
							className: 'btn btn-primary'
						}
					}
				});
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionAlimentosSuministrados(NumExplotacion){
	
	
		var mensaje = "<h5>BÚSQUEDA DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			mensaje = mensaje + "<tr>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<p>Selecciona el año de búsqueda</p>";
				mensaje = mensaje + "</td>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<select class='form-select' aria-label='Default select example' id='AnoBusqueda' style='float: center;'>";
						mensaje = mensaje + "<option selected>-----</option>";
						mensaje = mensaje + "<option value='2021'>2021</option>";
						mensaje = mensaje + "<option value='2022'>2022</option>";
						mensaje = mensaje + "<option value='2023'>2023</option>";
					mensaje = mensaje + "</select>";
				mensaje = mensaje + "</td>";
			mensaje = mensaje + "</tr>";
		mensaje = mensaje + "</table>";
							
		
		bootbox.confirm({
			title:"REGISTROS DE ALIMENTOS SUMINISTRADOS", 
			message: mensaje,
			buttons: {
				confirm: {
		            label: 'BUSCAR'
		        }
		    },
		    callback: function (result) {
		        if (result) {
		        	var Busqueda = document.getElementById("AnoBusqueda").value;
		        	ExportacionAlimentosSuministradosListado(Busqueda, NumExplotacion);
		        	
	            } else {
	                    
	            }
		    }
		});
}
</script>

<script>
function ExportacionAlimentosSuministradosListado(Busqueda, NumExplotacion){
	
		var busqueda = Busqueda + "-01-01";
		
		var datos= {
			'NumExplotacion' : NumExplotacion,
			'FechaVenta' : busqueda
		};
	
		var datos = JSON.stringify(datos);
	
		var url = './ExportacionAlimentosSuministradosListado';
	
		$.ajax({
			type : 'post',
			url : url,
			contentType : 'application/json',
			dataType : 'json',
			data : datos,
			success : function(data, textStatus, jqXHR) {
				var Recuento = data.recuento;

				ExportacionAlimentosSuministradosEnlaces(Recuento, Busqueda, NumExplotacion);

			},error: function(jqXHR,exception) {
				
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionAlimentosSuministradosEnlaces(Recuento, Busqueda, NumExplotacion){
	
		var NDocumentos = Recuento / 25;
				
		var NEnlaces;
		if(NDocumentos % 1 == 0){
			NEnlaces = parseInt(NDocumentos);
		}else{
			NEnlaces = parseInt(NDocumentos + 1);
		}
				
		var mensaje = "<h5>LISTADO DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			for(var i=0; i<NEnlaces; i++){
				var uno = "'" + NumExplotacion + "'";
				var dos = "'" + i + "'";
				var busqueda = Busqueda + "-01-01";
				var tres = "'" + busqueda + "'";
				var url = "ExportacionAlimentosSuministradosDescarga(" + uno + "," + dos + ", "+tres+")";
				
				mensaje = mensaje + "<tr>";
					mensaje = mensaje + "<td>";
						mensaje = mensaje + "<p>Documento número "+i+ ": </p>";
					mensaje = mensaje + "</td>";
					mensaje = mensaje + "<td style='text-align: center;'>";
						mensaje = mensaje + "<button type='button' class='btn btn-success' onClick=\""+url+"\">Descargar</button>";
					mensaje = mensaje + "</td>";
				mensaje = mensaje + "</tr>";		
			} 			
		mensaje = mensaje + "</table>";
		
								
		bootbox.dialog({
	        title: "ENLACES DE DESCARGAS",
	        message: mensaje,
	        buttons: {
	            sucess:{
	                label: "Cancelar",
	            	className: 'btn-secondary' 
	            }
	        }       
	    });
}
</script>

<script>
function ExportacionAlimentosSuministradosDescarga(NumExplotacion, num, Busqueda){
	//var NumExplotacion = sessionStorage.getItem("NumeroExplotacion");
	var urlFirma = './ExportacionAlimentosSuministrados/'+NumExplotacion+'/'+num+'/'+Busqueda;
	
	$.ajax({
			type: 'get',
			url: urlFirma,
			contentType: 'application/pdf',
			success: function(data,textStatus,jqXHR){	
				url = './ExportacionAlimentosSuministradosDescarga/'+num;
				jQuery('<form action="' + url + '" method="get"></form>').appendTo('body').submit().remove();
			},error: function(jqXHR,exception) {
				bootbox.alert({
					title: "EXPORTACIÓN REGISTROS DE LECHE",
					message: "No se puede recuperar el archivo",
					buttons: {
						ok: {
							label: 'Aceptar',
							className: 'btn btn-primary'
						}
					}
				});
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionPiensosMedicamentosos(NumExplotacion){
	
	
		var mensaje = "<h5>BÚSQUEDA DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			mensaje = mensaje + "<tr>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<p>Selecciona el año de búsqueda</p>";
				mensaje = mensaje + "</td>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<select class='form-select' aria-label='Default select example' id='AnoBusqueda' style='float: center;'>";
						mensaje = mensaje + "<option selected>-----</option>";
						mensaje = mensaje + "<option value='2021'>2021</option>";
						mensaje = mensaje + "<option value='2022'>2022</option>";
						mensaje = mensaje + "<option value='2023'>2023</option>";
					mensaje = mensaje + "</select>";
				mensaje = mensaje + "</td>";
			mensaje = mensaje + "</tr>";
		mensaje = mensaje + "</table>";
							
		
		bootbox.confirm({
			title:"REGISTROS DE PIENSOS MEDICAMENTOSOS", 
			message: mensaje,
			buttons: {
				confirm: {
		            label: 'BUSCAR'
		        }
		    },
		    callback: function (result) {
		        if (result) {
		        	var Busqueda = document.getElementById("AnoBusqueda").value;
		        	ExportacionPiensosMedicamentososListado(Busqueda, NumExplotacion);
		        	
	            } else {
	                    
	            }
		    }
		});
}
</script>

<script>
function ExportacionPiensosMedicamentososListado(Busqueda, NumExplotacion){
	
		var busqueda = Busqueda + "-01-01";
		
		var datos= {
			'NumExplotacion' : NumExplotacion,
			'FechaVenta' : busqueda
		};
	
		var datos = JSON.stringify(datos);
	
		var url = './ExportacionPiensosMedicamentososListado';
	
		$.ajax({
			type : 'post',
			url : url,
			contentType : 'application/json',
			dataType : 'json',
			data : datos,
			success : function(data, textStatus, jqXHR) {
				var Recuento = data.recuento;

				ExportacionPiensosMedicamentososEnlaces(Recuento, Busqueda, NumExplotacion);

			},error: function(jqXHR,exception) {
				
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionPiensosMedicamentososEnlaces(Recuento, Busqueda, NumExplotacion){
	
		var NDocumentos = Recuento / 25;
				
		var NEnlaces;
		if(NDocumentos % 1 == 0){
			NEnlaces = parseInt(NDocumentos);
		}else{
			NEnlaces = parseInt(NDocumentos + 1);
		}
				
		var mensaje = "<h5>LISTADO DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			for(var i=0; i<NEnlaces; i++){
				var uno = "'" + NumExplotacion + "'";
				var dos = "'" + i + "'";
				var busqueda = Busqueda + "-01-01";
				var tres = "'" + busqueda + "'";
				var url = "ExportacionPiensosMedicamentososDescarga(" + uno + "," + dos + ", "+tres+")";
				
				mensaje = mensaje + "<tr>";
					mensaje = mensaje + "<td>";
						mensaje = mensaje + "<p>Documento número "+i+ ": </p>";
					mensaje = mensaje + "</td>";
					mensaje = mensaje + "<td style='text-align: center;'>";
						mensaje = mensaje + "<button type='button' class='btn btn-success' onClick=\""+url+"\">Descargar</button>";
					mensaje = mensaje + "</td>";
				mensaje = mensaje + "</tr>";		
			} 			
		mensaje = mensaje + "</table>";
		
								
		bootbox.dialog({
	        title: "ENLACES DE DESCARGAS",
	        message: mensaje,
	        buttons: {
	            sucess:{
	                label: "Cancelar",
	            	className: 'btn-secondary' 
	            }
	        }       
	    });
}
</script>

<script>
function ExportacionPiensosMedicamentososDescarga(NumExplotacion, num, Busqueda){
	//var NumExplotacion = sessionStorage.getItem("NumeroExplotacion");
	var urlFirma = './ExportacionPiensosMedicamentosos/'+NumExplotacion+'/'+num+'/'+Busqueda;
	
	$.ajax({
			type: 'get',
			url: urlFirma,
			contentType: 'application/pdf',
			success: function(data,textStatus,jqXHR){	
				url = './ExportacionPiensosMedicamentososDescarga/'+num;
				jQuery('<form action="' + url + '" method="get"></form>').appendTo('body').submit().remove();
			},error: function(jqXHR,exception) {
				bootbox.alert({
					title: "EXPORTACIÓN PIENSOS MEDICAMENTOSOS",
					message: "No se puede recuperar el archivo",
					buttons: {
						ok: {
							label: 'Aceptar',
							className: 'btn btn-primary'
						}
					}
				});
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionMedicamentos(NumExplotacion){
	
	
		var mensaje = "<h5>BÚSQUEDA DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			mensaje = mensaje + "<tr>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<p>Selecciona el año de búsqueda</p>";
				mensaje = mensaje + "</td>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<select class='form-select' aria-label='Default select example' id='AnoBusqueda' style='float: center;'>";
						mensaje = mensaje + "<option selected>-----</option>";
						mensaje = mensaje + "<option value='2021'>2021</option>";
						mensaje = mensaje + "<option value='2022'>2022</option>";
						mensaje = mensaje + "<option value='2023'>2023</option>";
					mensaje = mensaje + "</select>";
				mensaje = mensaje + "</td>";
			mensaje = mensaje + "</tr>";
		mensaje = mensaje + "</table>";
							
		
		bootbox.confirm({
			title:"REGISTROS DE MEDICAMENTOS", 
			message: mensaje,
			buttons: {
				confirm: {
		            label: 'BUSCAR'
		        }
		    },
		    callback: function (result) {
		        if (result) {
		        	var Busqueda = document.getElementById("AnoBusqueda").value;
		        	ExportacionMedicamentosListado(Busqueda, NumExplotacion);
		        	
	            } else {
	                    
	            }
		    }
		});
}
</script>

<script>
function ExportacionMedicamentosListado(Busqueda, NumExplotacion){
	
		var busqueda = Busqueda + "-01-01";
		
		var datos= {
			'NumExplotacion' : NumExplotacion,
			'FechaVenta' : busqueda
		};
	
		var datos = JSON.stringify(datos);
	
		var url = './ExportacionMedicamentosListado';
	
		$.ajax({
			type : 'post',
			url : url,
			contentType : 'application/json',
			dataType : 'json',
			data : datos,
			success : function(data, textStatus, jqXHR) {
				var Recuento = data.recuento;

				ExportacionMedicamentosEnlaces(Recuento, Busqueda, NumExplotacion);

			},error: function(jqXHR,exception) {
				
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionMedicamentosEnlaces(Recuento, Busqueda, NumExplotacion){
	
		var NDocumentos = Recuento / 25;
				
		var NEnlaces;
		if(NDocumentos % 1 == 0){
			NEnlaces = parseInt(NDocumentos);
		}else{
			NEnlaces = parseInt(NDocumentos + 1);
		}
				
		var mensaje = "<h5>LISTADO DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			for(var i=0; i<NEnlaces; i++){
				var uno = "'" + NumExplotacion + "'";
				var dos = "'" + i + "'";
				var busqueda = Busqueda + "-01-01";
				var tres = "'" + busqueda + "'";
				var url = "ExportacionMedicamentosDescarga(" + uno + "," + dos + ", "+tres+")";
				
				mensaje = mensaje + "<tr>";
					mensaje = mensaje + "<td>";
						mensaje = mensaje + "<p>Documento número "+i+ ": </p>";
					mensaje = mensaje + "</td>";
					mensaje = mensaje + "<td style='text-align: center;'>";
						mensaje = mensaje + "<button type='button' class='btn btn-success' onClick=\""+url+"\">Descargar</button>";
					mensaje = mensaje + "</td>";
				mensaje = mensaje + "</tr>";		
			} 			
		mensaje = mensaje + "</table>";
		
								
		bootbox.dialog({
	        title: "ENLACES DE DESCARGAS",
	        message: mensaje,
	        buttons: {
	            sucess:{
	                label: "Cancelar",
	            	className: 'btn-secondary' 
	            }
	        }       
	    });
}
</script>

<script>
function ExportacionMedicamentosDescarga(NumExplotacion, num, Busqueda){
	//var NumExplotacion = sessionStorage.getItem("NumeroExplotacion");
	var urlFirma = './ExportacionMedicamentos/'+NumExplotacion+'/'+num+'/'+Busqueda;
	
	$.ajax({
			type: 'get',
			url: urlFirma,
			contentType: 'application/pdf',
			success: function(data,textStatus,jqXHR){	
				url = './ExportacionMedicamentosDescarga/'+num;
				jQuery('<form action="' + url + '" method="get"></form>').appendTo('body').submit().remove();
			},error: function(jqXHR,exception) {
				bootbox.alert({
					title: "EXPORTACIÓN MEDICAMENTOS",
					message: "No se puede recuperar el archivo",
					buttons: {
						ok: {
							label: 'Aceptar',
							className: 'btn btn-primary'
						}
					}
				});
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionEnfermedades(NumExplotacion){
	
	
		var mensaje = "<h5>BÚSQUEDA DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			mensaje = mensaje + "<tr>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<p>Selecciona el año de búsqueda</p>";
				mensaje = mensaje + "</td>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<select class='form-select' aria-label='Default select example' id='AnoBusqueda' style='float: center;'>";
						mensaje = mensaje + "<option selected>-----</option>";
						mensaje = mensaje + "<option value='2021'>2021</option>";
						mensaje = mensaje + "<option value='2022'>2022</option>";
						mensaje = mensaje + "<option value='2023'>2023</option>";
					mensaje = mensaje + "</select>";
				mensaje = mensaje + "</td>";
			mensaje = mensaje + "</tr>";
		mensaje = mensaje + "</table>";
							
		
		bootbox.confirm({
			title:"REGISTROS DE ENFERMEDADES", 
			message: mensaje,
			buttons: {
				confirm: {
		            label: 'BUSCAR'
		        }
		    },
		    callback: function (result) {
		        if (result) {
		        	var Busqueda = document.getElementById("AnoBusqueda").value;
		        	ExportacionEnfermedadesListado(Busqueda, NumExplotacion);
		        	
	            } else {
	                    
	            }
		    }
		});
}
</script>

<script>
function ExportacionEnfermedadesListado(Busqueda, NumExplotacion){
	
		var busqueda = Busqueda + "-01-01";
		
		var datos= {
			'NumExplotacion' : NumExplotacion,
			'FechaVenta' : busqueda
		};
	
		var datos = JSON.stringify(datos);
	
		var url = './exportacionEnfermedadesListado';
	
		$.ajax({
			type : 'post',
			url : url,
			contentType : 'application/json',
			dataType : 'json',
			data : datos,
			success : function(data, textStatus, jqXHR) {
				var Recuento = data.recuento;

				ExportacionEnfermedadesEnlaces(Recuento, Busqueda, NumExplotacion);

			},error: function(jqXHR,exception) {
				
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionEnfermedadesEnlaces(Recuento, Busqueda, NumExplotacion){
	
		var NDocumentos = Recuento / 12;
				
		var NEnlaces;
		if(NDocumentos % 1 == 0){
			NEnlaces = parseInt(NDocumentos);
		}else{
			NEnlaces = parseInt(NDocumentos + 1);
		}
				
		var mensaje = "<h5>LISTADO DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			for(var i=0; i<NEnlaces; i++){
				var uno = "'" + NumExplotacion + "'";
				var dos = "'" + i + "'";
				var busqueda = Busqueda + "-01-01";
				var tres = "'" + busqueda + "'";
				var url = "ExportacionEnfermedadesDescarga(" + uno + "," + dos + ", "+tres+")";
				
				mensaje = mensaje + "<tr>";
					mensaje = mensaje + "<td>";
						mensaje = mensaje + "<p>Documento número "+i+ ": </p>";
					mensaje = mensaje + "</td>";
					mensaje = mensaje + "<td style='text-align: center;'>";
						mensaje = mensaje + "<button type='button' class='btn btn-success' onClick=\""+url+"\">Descargar</button>";
					mensaje = mensaje + "</td>";
				mensaje = mensaje + "</tr>";		
			} 			
		mensaje = mensaje + "</table>";
		
								
		bootbox.dialog({
	        title: "ENLACES DE DESCARGAS",
	        message: mensaje,
	        buttons: {
	            sucess:{
	                label: "Cancelar",
	            	className: 'btn-secondary' 
	            }
	        }       
	    });
}
</script>

<script>
function ExportacionEnfermedadesDescarga(NumExplotacion, num, Busqueda){
	//var NumExplotacion = sessionStorage.getItem("NumeroExplotacion");
	var urlFirma = './exportacionEnfermedades/'+NumExplotacion+'/'+num+'/'+Busqueda;
	
	$.ajax({
			type: 'get',
			url: urlFirma,
			contentType: 'application/pdf',
			success: function(data,textStatus,jqXHR){	
				url = './exportacionEnfermedadesDescarga/'+num;
				jQuery('<form action="' + url + '" method="get"></form>').appendTo('body').submit().remove();
			},error: function(jqXHR,exception) {
				bootbox.alert({
					title: "EXPORTACIÓN ENFERMEDADES",
					message: "No se puede recuperar el archivo",
					buttons: {
						ok: {
							label: 'Aceptar',
							className: 'btn btn-primary'
						}
					}
				});
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionPastos(NumExplotacion){
	
	
		var mensaje = "<h5>BÚSQUEDA DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			mensaje = mensaje + "<tr>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<p>Selecciona el año de búsqueda</p>";
				mensaje = mensaje + "</td>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<select class='form-select' aria-label='Default select example' id='AnoBusqueda' style='float: center;'>";
						mensaje = mensaje + "<option selected>-----</option>";
						mensaje = mensaje + "<option value='2021'>2021</option>";
						mensaje = mensaje + "<option value='2022'>2022</option>";
						mensaje = mensaje + "<option value='2023'>2023</option>";
					mensaje = mensaje + "</select>";
				mensaje = mensaje + "</td>";
			mensaje = mensaje + "</tr>";
		mensaje = mensaje + "</table>";
							
		
		bootbox.confirm({
			title:"REGISTROS DE PASTOS", 
			message: mensaje,
			buttons: {
				confirm: {
		            label: 'BUSCAR'
		        }
		    },
		    callback: function (result) {
		        if (result) {
		        	var Busqueda = document.getElementById("AnoBusqueda").value;
		        	ExportacionPastosListado(Busqueda, NumExplotacion);
		        	
	            } else {
	                    
	            }
		    }
		});
}
</script>

<script>
function ExportacionPastosListado(Busqueda, NumExplotacion){
	
		var busqueda = Busqueda + "-01-01";
		
		var datos= {
			'NumExplotacion' : NumExplotacion,
			'FechaVenta' : busqueda
		};
	
		var datos = JSON.stringify(datos);
	
		var url = './exportacionPastosListado';
	
		$.ajax({
			type : 'post',
			url : url,
			contentType : 'application/json',
			dataType : 'json',
			data : datos,
			success : function(data, textStatus, jqXHR) {
				var Recuento = data.recuento;

				ExportacionPastosEnlaces(Recuento, Busqueda, NumExplotacion);

			},error: function(jqXHR,exception) {
				
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionPastosEnlaces(Recuento, Busqueda, NumExplotacion){
	
		var NDocumentos = Recuento / 25;
				
		var NEnlaces;
		if(NDocumentos % 1 == 0){
			NEnlaces = parseInt(NDocumentos);
		}else{
			NEnlaces = parseInt(NDocumentos + 1);
		}
				
		var mensaje = "<h5>LISTADO DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			for(var i=0; i<NEnlaces; i++){
				var uno = "'" + NumExplotacion + "'";
				var dos = "'" + i + "'";
				var busqueda = Busqueda + "-01-01";
				var tres = "'" + busqueda + "'";
				var url = "ExportacionPastosDescarga(" + uno + "," + dos + ", "+tres+")";
				
				mensaje = mensaje + "<tr>";
					mensaje = mensaje + "<td>";
						mensaje = mensaje + "<p>Documento número "+i+ ": </p>";
					mensaje = mensaje + "</td>";
					mensaje = mensaje + "<td style='text-align: center;'>";
						mensaje = mensaje + "<button type='button' class='btn btn-success' onClick=\""+url+"\">Descargar</button>";
					mensaje = mensaje + "</td>";
				mensaje = mensaje + "</tr>";		
			} 			
		mensaje = mensaje + "</table>";
		
								
		bootbox.dialog({
	        title: "ENLACES DE DESCARGAS",
	        message: mensaje,
	        buttons: {
	            sucess:{
	                label: "Cancelar",
	            	className: 'btn-secondary' 
	            }
	        }       
	    });
}
</script>

<script>
function ExportacionPastosDescarga(NumExplotacion, num, Busqueda){
	//var NumExplotacion = sessionStorage.getItem("NumeroExplotacion");
	var urlFirma = './exportacionPastos/'+NumExplotacion+'/'+num+'/'+Busqueda;
	
	$.ajax({
			type: 'get',
			url: urlFirma,
			contentType: 'application/pdf',
			success: function(data,textStatus,jqXHR){	
				url = './exportacionPastosDescarga/'+num;
				jQuery('<form action="' + url + '" method="get"></form>').appendTo('body').submit().remove();
			},error: function(jqXHR,exception) {
				bootbox.alert({
					title: "EXPORTACIÓN PASTOS",
					message: "No se puede recuperar el archivo",
					buttons: {
						ok: {
							label: 'Aceptar',
							className: 'btn btn-primary'
						}
					}
				});
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionInspecciones(NumExplotacion){
	
	
		var mensaje = "<h5>BÚSQUEDA DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			mensaje = mensaje + "<tr>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<p>Selecciona el año de búsqueda</p>";
				mensaje = mensaje + "</td>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<select class='form-select' aria-label='Default select example' id='AnoBusqueda' style='float: center;'>";
						mensaje = mensaje + "<option selected>-----</option>";
						mensaje = mensaje + "<option value='2021'>2021</option>";
						mensaje = mensaje + "<option value='2022'>2022</option>";
						mensaje = mensaje + "<option value='2023'>2023</option>";
					mensaje = mensaje + "</select>";
				mensaje = mensaje + "</td>";
			mensaje = mensaje + "</tr>";
		mensaje = mensaje + "</table>";
							
		
		bootbox.confirm({
			title:"REGISTROS DE INSPECCIONES", 
			message: mensaje,
			buttons: {
				confirm: {
		            label: 'BUSCAR'
		        }
		    },
		    callback: function (result) {
		        if (result) {
		        	var Busqueda = document.getElementById("AnoBusqueda").value;
		        	ExportacionInspeccionesListado(Busqueda, NumExplotacion);
		        	
	            } else {
	                    
	            }
		    }
		});
}
</script>

<script>
function ExportacionInspeccionesListado(Busqueda, NumExplotacion){
	
		var busqueda = Busqueda + "-01-01";
		
		var datos= {
			'NumExplotacion' : NumExplotacion,
			'FechaVenta' : busqueda
		};
	
		var datos = JSON.stringify(datos);
	
		var url = './exportacionInspeccionesListado';
	
		$.ajax({
			type : 'post',
			url : url,
			contentType : 'application/json',
			dataType : 'json',
			data : datos,
			success : function(data, textStatus, jqXHR) {
				var Recuento = data.recuento;

				ExportacionInspeccionesEnlaces(Recuento, Busqueda, NumExplotacion);

			},error: function(jqXHR,exception) {
				
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionInspeccionesEnlaces(Recuento, Busqueda, NumExplotacion){
	
		var NDocumentos = Recuento / 12;
				
		var NEnlaces;
		if(NDocumentos % 1 == 0){
			NEnlaces = parseInt(NDocumentos);
		}else{
			NEnlaces = parseInt(NDocumentos + 1);
		}
				
		var mensaje = "<h5>LISTADO DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			for(var i=0; i<NEnlaces; i++){
				var uno = "'" + NumExplotacion + "'";
				var dos = "'" + i + "'";
				var busqueda = Busqueda + "-01-01";
				var tres = "'" + busqueda + "'";
				var url = "ExportacionInspeccionesDescarga(" + uno + "," + dos + ", "+tres+")";
				
				mensaje = mensaje + "<tr>";
					mensaje = mensaje + "<td>";
						mensaje = mensaje + "<p>Documento número "+i+ ": </p>";
					mensaje = mensaje + "</td>";
					mensaje = mensaje + "<td style='text-align: center;'>";
						mensaje = mensaje + "<button type='button' class='btn btn-success' onClick=\""+url+"\">Descargar</button>";
					mensaje = mensaje + "</td>";
				mensaje = mensaje + "</tr>";		
			} 			
		mensaje = mensaje + "</table>";
		
								
		bootbox.dialog({
	        title: "ENLACES DE DESCARGAS",
	        message: mensaje,
	        buttons: {
	            sucess:{
	                label: "Cancelar",
	            	className: 'btn-secondary' 
	            }
	        }       
	    });
}
</script>

<script>
function ExportacionInspeccionesDescarga(NumExplotacion, num, Busqueda){
	//var NumExplotacion = sessionStorage.getItem("NumeroExplotacion");
	var urlFirma = './exportacionInspecciones/'+NumExplotacion+'/'+num+'/'+Busqueda;
	
	$.ajax({
			type: 'get',
			url: urlFirma,
			contentType: 'application/pdf',
			success: function(data,textStatus,jqXHR){	
				url = './exportacionInspeccionesDescarga/'+num;
				jQuery('<form action="' + url + '" method="get"></form>').appendTo('body').submit().remove();
			},error: function(jqXHR,exception) {
				bootbox.alert({
					title: "EXPORTACIÓN INSPECCIONES",
					message: "No se puede recuperar el archivo",
					buttons: {
						ok: {
							label: 'Aceptar',
							className: 'btn btn-primary'
						}
					}
				});
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionIncidencias(NumExplotacion){
	
	
		var mensaje = "<h5>BÚSQUEDA DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			mensaje = mensaje + "<tr>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<p>Selecciona el año de búsqueda</p>";
				mensaje = mensaje + "</td>";
				mensaje = mensaje + "<td>";
					mensaje = mensaje + "<select class='form-select' aria-label='Default select example' id='AnoBusqueda' style='float: center;'>";
						mensaje = mensaje + "<option selected>-----</option>";
						mensaje = mensaje + "<option value='2021'>2021</option>";
						mensaje = mensaje + "<option value='2022'>2022</option>";
						mensaje = mensaje + "<option value='2023'>2023</option>";
					mensaje = mensaje + "</select>";
				mensaje = mensaje + "</td>";
			mensaje = mensaje + "</tr>";
		mensaje = mensaje + "</table>";
							
		
		bootbox.confirm({
			title:"REGISTROS DE INCIDENCIAS", 
			message: mensaje,
			buttons: {
				confirm: {
		            label: 'BUSCAR'
		        }
		    },
		    callback: function (result) {
		        if (result) {
		        	var Busqueda = document.getElementById("AnoBusqueda").value;
		        	ExportacionIncidenciasListado(Busqueda, NumExplotacion);
		        	
	            } else {
	                    
	            }
		    }
		});
}
</script>

<script>
function ExportacionIncidenciasListado(Busqueda, NumExplotacion){
	
		var busqueda = Busqueda + "-01-01";
		
		var datos= {
			'NumExplotacion' : NumExplotacion,
			'FechaVenta' : busqueda
		};
	
		var datos = JSON.stringify(datos);
	
		var url = './exportacionIncidenciasListado';
	
		$.ajax({
			type : 'post',
			url : url,
			contentType : 'application/json',
			dataType : 'json',
			data : datos,
			success : function(data, textStatus, jqXHR) {
				var Recuento = data.recuento;

				ExportacionIncidenciasEnlaces(Recuento, Busqueda, NumExplotacion);

			},error: function(jqXHR,exception) {
				
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>

<script>
function ExportacionIncidenciasEnlaces(Recuento, Busqueda, NumExplotacion){
	
		var NDocumentos = Recuento / 12;
				
		var NEnlaces;
		if(NDocumentos % 1 == 0){
			NEnlaces = parseInt(NDocumentos);
		}else{
			NEnlaces = parseInt(NDocumentos + 1);
		}
				
		var mensaje = "<h5>LISTADO DE DOCUMENTOS:</h5>"
		
		mensaje = mensaje + "<table>";
			for(var i=0; i<NEnlaces; i++){
				var uno = "'" + NumExplotacion + "'";
				var dos = "'" + i + "'";
				var busqueda = Busqueda + "-01-01";
				var tres = "'" + busqueda + "'";
				var url = "ExportacionIncidenciasDescarga(" + uno + "," + dos + ", "+tres+")";
				
				mensaje = mensaje + "<tr>";
					mensaje = mensaje + "<td>";
						mensaje = mensaje + "<p>Documento número "+i+ ": </p>";
					mensaje = mensaje + "</td>";
					mensaje = mensaje + "<td style='text-align: center;'>";
						mensaje = mensaje + "<button type='button' class='btn btn-success' onClick=\""+url+"\">Descargar</button>";
					mensaje = mensaje + "</td>";
				mensaje = mensaje + "</tr>";		
			} 			
		mensaje = mensaje + "</table>";
		
								
		bootbox.dialog({
	        title: "ENLACES DE DESCARGAS",
	        message: mensaje,
	        buttons: {
	            sucess:{
	                label: "Cancelar",
	            	className: 'btn-secondary' 
	            }
	        }       
	    });
}
</script>

<script>
function ExportacionIncidenciasDescarga(NumExplotacion, num, Busqueda){
	//var NumExplotacion = sessionStorage.getItem("NumeroExplotacion");
	var urlFirma = './exportacionIncidencias/'+NumExplotacion+'/'+num+'/'+Busqueda;
	
	$.ajax({
			type: 'get',
			url: urlFirma,
			contentType: 'application/pdf',
			success: function(data,textStatus,jqXHR){	
				url = './exportacionIncidenciasDescarga/'+num;
				jQuery('<form action="' + url + '" method="get"></form>').appendTo('body').submit().remove();
			},error: function(jqXHR,exception) {
				bootbox.alert({
					title: "EXPORTACIÓN INCIDENCIAS",
					message: "No se puede recuperar el archivo",
					buttons: {
						ok: {
							label: 'Aceptar',
							className: 'btn btn-primary'
						}
					}
				});
			},statuscode:{
				404:function(){ mostrarPantallaError(url); }
			}
		});
}
</script>